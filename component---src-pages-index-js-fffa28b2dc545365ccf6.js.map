{"version":3,"sources":["webpack://marvin/./src/components/footer.js","webpack://marvin/./src/components/topMenu.js","webpack://marvin/./src/components/landingImageWrapper.js","webpack://marvin/./src/components/landingImageGallery.js","webpack://marvin/./src/pages/index.js"],"names":["shouldRotate","text","toggleMenu","document","querySelector","classList","contains","oeuvres","querySelectorAll","forEach","oeuvre","remove","console","log","titres","titre","add","menuIcon","subTitles","menu","menuBg","style","display","alloeuvres","allWorksBarres","barre","aboutTexts","aboutBarres","className","Link","to","data-v-29ee60c2","width","height","viewBox","xmlns","fill","fillRule","clipRule","d","onClick","ImageWrapper","props","setHover","setState","isHovered","setNotHover","open","volet","backgroundColor","bgColor","window","setTimeout","location","slug","labelArray","title","split","state","render","this","onMouseEnter","onMouseLeave","fluid","src","alt","map","el","index","key","React","queryOeuvres","useStaticQuery","allWpOeuvre","nodes","id","custom","mainimage","localFile","childImageSharp","mainImage","altText","landingpage","animateOnLoad","componentDidMount","shouldLoop","titleToAnimateOnScroll","screenHeight","innerHeight","loop","screenTopPos","pageYOffset","screenBottomPos","oeuvrePos","getBoundingClientRect","top","elPos","requestAnimationFrame","componentWillUnmount"],"mappings":"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","file":"component---src-pages-index-js-fffa28b2dc545365ccf6.js","sourcesContent":["import React from \"react\"\r\nimport AnimatedText from \"./animatedText\"\r\nimport \"../styles/components/footer.scss\"\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer>\r\n\r\n            <div>\r\n\r\n                <div>\r\n                    <AnimatedText shouldRotate={true} text=\"MARVIN SCHWAIBOLD\"></AnimatedText>\r\n                    <AnimatedText shouldRotate={true} text=\"LOWER EAST SIDE, NYC\"></AnimatedText>\r\n                </div>\r\n\r\n                <div>\r\n                    <AnimatedText shouldRotate={true} text=\"MARVINSCHWAIBOLD@\"></AnimatedText>\r\n                    <AnimatedText shouldRotate={true} text=\"GMAIL.COM\"></AnimatedText>\r\n                </div>\r\n\r\n                <AnimatedText shouldRotate={true} text=\"ALL RIGHTS RESERVED 2021\"></AnimatedText>\r\n\r\n            </div>\r\n\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","import React from \"react\"\r\nimport AnimatedText from \"./animatedText\"\r\nimport { Link } from \"gatsby\"\r\n\r\nimport \"../styles/components//topMenu.scss\"\r\n\r\nconst TopMenu = () => {\r\n  return (\r\n    <div>\r\n\r\n      <div className=\"mainMenu\">\r\n        <div className=\"menuBackground\"></div>\r\n        <nav>\r\n          <Link to=\"/\"><AnimatedText shouldRotate={true} text=\"INTRO/\"></AnimatedText></Link>\r\n          <Link to=\"/allwork\"><AnimatedText shouldRotate={true} text=\"ALL WORK/\"></AnimatedText></Link>\r\n          <Link to=\"/about\"><AnimatedText shouldRotate={true} text=\"ABOUT/\"></AnimatedText></Link>\r\n        </nav>\r\n        <AnimatedText text=\"MARVINSCHWAIBOLD@GMAIL.COM\"></AnimatedText>\r\n      </div>\r\n\r\n      <nav className=\"topMenu\">\r\n        <svg data-v-29ee60c2=\"\" width=\"17\" height=\"17\" viewBox=\"0 0 17 17\" xmlns=\"http://www.w3.org/2000/svg\" style={{ fill: \"#000000\" }}><path data-v-29ee60c2=\"\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M6.9226 0L8.49996 8.49999L3.60495 1.37419L1.37416 3.60497L8.49996 8.49999L0 6.9226V10.0774L8.49996 8.49999L1.37424 13.395L3.60502 15.6258L8.49996 8.49999L6.9226 17H10.0774L8.49996 8.49999L13.3951 15.6258L15.6258 13.395L8.49996 8.49999L17 10.0774V6.9226L8.49996 8.49999L15.6258 3.605L13.395 1.37421L8.49996 8.49999L10.0774 0H6.9226Z\"></path></svg>\r\n        <div onClick={toggleMenu} className=\"menuIcon\">\r\n          <div></div>\r\n          <div></div>\r\n        </div>\r\n      </nav>\r\n\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nconst toggleMenu = () => {\r\n\r\n  // si le menu était ouvert\r\n  if (document.querySelector(\".menuIcon\").classList.contains(\"opened\")) {\r\n\r\n    // les oeuvres de l'accueil\r\n    let oeuvres = document.querySelectorAll(\".imageWrapper\");\r\n    (oeuvres !== null) ? oeuvres.forEach((oeuvre) => {\r\n      oeuvre.classList.remove(\"closed\")\r\n    }) : console.log(\"nope\");\r\n\r\n    // les titres\r\n    let titres = document.querySelectorAll(\"header .animatedText, footer .animatedText\");\r\n    (titres !== null) ? titres.forEach((titre) => {\r\n      titre.classList.add(\"animated\")\r\n    }) : console.log(\"nope\");\r\n\r\n    // l'icone du menu\r\n    let menuIcon = document.querySelector(\".menuIcon\");\r\n    (menuIcon !== null) ? menuIcon.classList.remove(\"opened\") : console.log(\"nope\");\r\n\r\n    // les barres du sous titre\r\n    let subTitles = document.querySelector(\".subTitle\");\r\n    (subTitles !== null) ? subTitles.classList.add(\"animated\") : console.log(\"nope\");\r\n\r\n    // le menu\r\n    let menu = document.querySelectorAll(\".mainMenu, .mainMenu .animatedText\");\r\n    (menu !== null) ? menu.forEach((text) => {\r\n      text.classList.remove(\"animated\")\r\n    }) : console.log(\"nope\")\r\n    let menuBg = document.querySelector(\"div.menuBackground\");\r\n    (menuBg !== null) ? menuBg.style.display = \"none\" : console.log(\"nope\");\r\n\r\n    // la liste les oeuvre de allworks\r\n    let alloeuvres = document.querySelectorAll(\".carousel .animatedText\");\r\n    (alloeuvres !== null) ? alloeuvres.forEach((oeuvre) => {\r\n      oeuvre.classList.add(\"animated\")\r\n    }) : console.log(\"nope\");\r\n\r\n    // les barres dans allworks\r\n    let allWorksBarres = document.querySelectorAll(\".carousel > div\");\r\n    (allWorksBarres !== null) ? allWorksBarres.forEach((barre) => {\r\n      barre.classList.remove(\"animated\")\r\n    }) : console.log(\"nope\");\r\n\r\n    // les animatedTexts dans about\r\n    let aboutTexts = document.querySelectorAll(\".about .animatedText\");\r\n    (aboutTexts !== null) ? aboutTexts.forEach((text) => {\r\n      text.classList.add(\"animated\");\r\n    }) : console.log(\"nope\");\r\n\r\n    // les barres dans about\r\n    let aboutBarres = document.querySelectorAll(\".about p\");\r\n    (aboutBarres !== null) ? aboutBarres.forEach((barre) => {\r\n      barre.classList.remove(\"animated\");\r\n    }) : console.log(\"nope\");\r\n\r\n  } else {\r\n    // si le menu etait fermé\r\n\r\n    // les oeuvres\r\n    let oeuvres = document.querySelectorAll(\".imageWrapper\");\r\n    (oeuvres !== null) ? oeuvres.forEach((oeuvre) => {\r\n      oeuvre.classList.add(\"closed\")\r\n    }) : console.log(\"nope\");\r\n\r\n    // les titres\r\n    let titres = document.querySelectorAll(\"header .animatedText, footer .animatedText\");\r\n    (titres !== null) ? titres.forEach((titre) => {\r\n      titre.classList.remove(\"animated\")\r\n    }) : console.log(\"nope\");\r\n\r\n    // l'icone du menu\r\n    let menuIcon = document.querySelector(\".menuIcon\");\r\n    (menuIcon !== null) ? menuIcon.classList.add(\"opened\") : console.log(\"nope\");\r\n\r\n    // les barres du sous titre\r\n    let subTitles = document.querySelector(\".subTitle\");\r\n    (subTitles !== null) ? subTitles.classList.remove(\"animated\") : console.log(\"nope\");\r\n\r\n    // le menu\r\n    let menu = document.querySelectorAll(\".mainMenu, .mainMenu .animatedText\");\r\n    (menu !== null) ? menu.forEach((text) => {\r\n      text.classList.add(\"animated\")\r\n    }) : console.log(\"nope\")\r\n    let menuBg = document.querySelector(\"div.menuBackground\");\r\n    (menuBg !== null) ? menuBg.style.display = \"block\" : console.log(\"nope\")\r\n\r\n    // la liste les oeuvre de allworks\r\n    let alloeuvres = document.querySelectorAll(\".carousel .animatedText\");\r\n    (alloeuvres !== null) ? alloeuvres.forEach((oeuvre) => {\r\n      oeuvre.classList.remove(\"animated\")\r\n    }) : console.log(\"nope\");\r\n\r\n    // les barres dans allworks\r\n    let allWorksBarres = document.querySelectorAll(\".carousel > div\");\r\n    (allWorksBarres !== null) ? allWorksBarres.forEach((barre) => {\r\n      barre.classList.add(\"animated\")\r\n    }) : console.log(\"nope\");\r\n\r\n    // les animatedTexts dans about\r\n    let aboutTexts = document.querySelectorAll(\".about .animatedText\");\r\n    (aboutTexts !== null) ? aboutTexts.forEach((text) => {\r\n      text.classList.remove(\"animated\");\r\n    }) : console.log(\"nope\");\r\n\r\n    // les barres dans about\r\n    let aboutBarres = document.querySelectorAll(\".about p\");\r\n    (aboutBarres !== null) ? aboutBarres.forEach((barre) => {\r\n      barre.classList.add(\"animated\");\r\n    }) : console.log(\"nope\");\r\n\r\n  }\r\n\r\n}\r\n\r\nexport default TopMenu","// composant utilisé dans la page d'accueil pour display chaque projet\r\n\r\nimport React from \"react\"\r\nimport Image from \"gatsby-image\"\r\nimport AnimatedText from \"../components/animatedText\"\r\n\r\nimport \"../styles/components/landingImage.scss\"\r\n\r\n\r\nexport default class ImageWrapper extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        // le titre vient de wordpress, deux espace signigie un retour à la ligne, on l'éclate selon cette règle en différent span\r\n        this.labelArray = props.title.split(\"  \");\r\n        this.state = { isHovered: false }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div onClick={this.open} onMouseEnter={this.setHover} onMouseLeave={this.setNotHover} className=\"imageWrapper closed\">\r\n                <Image fluid={this.props.src} alt={this.props.alt} />\r\n                <div className=\"parent\">\r\n                    {\r\n                        this.labelArray.map((el, index) => {\r\n                            return (\r\n                                <AnimatedText isHovered={this.state.isHovered} className=\"test\" shouldRotate={true} key={index} text={el}></AnimatedText>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    setHover = () => {\r\n        this.setState({ isHovered: true })\r\n    }\r\n\r\n    setNotHover = () => {\r\n        this.setState({ isHovered: false })\r\n    }\r\n\r\n    open = () => {\r\n        console.log(\"open\")\r\n        // récupère la div pour la transition\r\n        const volet = document.querySelector(\"div.backgroundTransition\")\r\n        // change la couleur du volet\r\n        volet.style.backgroundColor = this.props.bgColor\r\n        // ajoute la class pour animer\r\n        volet.classList.add(\"animated\")\r\n        // la durée de l'animation est de 400ms, après ce délai on ouvre la nouvelle page\r\n        window.setTimeout(()=>{\r\n            window.location = \"/\" + this.props.slug\r\n        }, 400)\r\n    }\r\n\r\n}\r\n","// composant pour générer la galerie de la page d'accueil\r\n\r\nimport { graphql, useStaticQuery } from \"gatsby\"\r\nimport React from \"react\"\r\nimport ImageWrapper from \"../components/landingImageWrapper\"\r\n\r\nimport \"../styles/components//landingImageGallery.scss\"\r\n\r\nconst ImageGallery = () => {\r\n\r\n  const queryOeuvres = useStaticQuery(graphql`\r\n  query oeuvres {\r\n    allWpOeuvre(limit: 10, sort: {order: DESC, fields: date}) {\r\n      nodes {\r\n        custom {\r\n          mainimage {\r\n            localFile {\r\n              childImageSharp {\r\n                fluid(maxWidth: 1000, quality: 100) {\r\n                  ...GatsbyImageSharpFluid_tracedSVG\r\n                }\r\n              }\r\n            }\r\n            id\r\n          }\r\n          bgColor\r\n        }\r\n        id\r\n        title\r\n        slug\r\n      }\r\n    }\r\n  }`)\r\n\r\n  return (\r\n    <main>\r\n      {\r\n\r\n        // pour chaque oeuvre...\r\n        queryOeuvres.allWpOeuvre.nodes.map(({ id, title, slug, custom }) => {\r\n\r\n          // créé un wrapper pour l'image pour réduire la longueur\r\n          const fluid = custom.mainimage.localFile.childImageSharp.fluid;\r\n          const alt = custom.mainImage?.altText || \"\"\r\n\r\n          return (\r\n            <ImageWrapper key={id} src={fluid} alt={alt} title={title} slug={slug} bgColor={custom.bgColor}></ImageWrapper>\r\n          )\r\n\r\n        }\r\n\r\n        )\r\n      }\r\n    </main>\r\n  )\r\n\r\n}\r\n\r\nexport default ImageGallery","// Imports\r\n\r\nimport React from \"react\"\r\nimport ImageGallery from \"../components/landingImageGallery\"\r\nimport TopMenu from \"../components/topMenu\"\r\nimport AnimatedText from \"../components/animatedText\"\r\nimport Footer from \"../components/footer\"\r\n\r\nimport \"../styles/index.scss\"\r\n\r\nexport default class landingpage extends React.Component {\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div>\r\n\r\n        <TopMenu></TopMenu>\r\n\r\n        <header>\r\n\r\n          <h1>\r\n            <AnimatedText shouldRotate={true} animateOnLoad={true} text=\"MARVIN\" />\r\n            <AnimatedText shouldRotate={true} animateOnLoad={true} text=\"SCHWAIBOLD\" />\r\n            <AnimatedText shouldRotate={true} animateOnLoad={true} text=\"GERMAN\" />\r\n            <AnimatedText shouldRotate={true} animateOnLoad={true} text=\"DESIGNER IN NYC\" />\r\n          </h1>\r\n\r\n          <h2 className=\"subTitle\">\r\n            <AnimatedText shouldRotate={true} animateOnLoad={true} text=\"EXPLORE ALL MY RECENT\" />\r\n            <AnimatedText shouldRotate={true} animateOnLoad={true} text=\"PROJECTS BELOW. CHECK OUT THE ARCHIVE\" />\r\n            <AnimatedText shouldRotate={true} animateOnLoad={true} text=\"AND ABOUT PAGE FOR MORE WORK.\" />\r\n          </h2>\r\n\r\n        </header>\r\n\r\n        <ImageGallery></ImageGallery>\r\n\r\n        <div className=\"backgroundTransition\"></div>\r\n\r\n        <Footer></Footer>\r\n\r\n      </div>\r\n    )\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    // détermine si la loop doit se faire ou non, se désactive au unmount du component\r\n    this.shouldLoop = true\r\n\r\n    // récupère toutes les cartes d'oeuvres\r\n    let oeuvres = document.querySelectorAll(\".imageWrapper\");\r\n    // récupère les titres à animer au scroll\r\n    let titleToAnimateOnScroll = document.querySelectorAll(\"h1 > .animatedText, h2.subTitle > .animatedText, h2.subTitle, footer .animatedText\")\r\n\r\n    // enregistre la hauteur de l'écran\r\n    let screenHeight = window.innerHeight;\r\n    // définit la loop\r\n    const loop = () => {\r\n      // ne des choses que si le menu est fermé\r\n      if (!document.querySelector(\".menuIcon\").classList.contains(\"opened\")) {\r\n\r\n        // enregistre la position du haut de l'écran dans le document\r\n        let screenTopPos = window.pageYOffset\r\n        // enregistre la position du bas de l'écran dans le document\r\n        let screenBottomPos = screenTopPos + screenHeight\r\n\r\n        // parcours toutes les cartes d'oeuvres\r\n        oeuvres.forEach((oeuvre) => {\r\n          // récupère la position en y de cette oeuvre\r\n          let oeuvrePos = screenTopPos + oeuvre.getBoundingClientRect().top\r\n          // récupère la hauteur de cette oeuvre\r\n          let oeuvreHeight = oeuvre.getBoundingClientRect().height\r\n          // est-ce que l'oeuvre est dans le viewport ?\r\n          let isVisible = !((oeuvrePos + oeuvreHeight) < screenTopPos || oeuvrePos > screenBottomPos)\r\n          if (isVisible)\r\n            oeuvre.classList.remove(\"closed\")\r\n          else\r\n            oeuvre.classList.add(\"closed\")\r\n        })\r\n\r\n        // parcours tous les titres\r\n        titleToAnimateOnScroll.forEach((el) => {\r\n          // récupère la position en y de cet élément\r\n          let elPos = screenTopPos + el.getBoundingClientRect().top;\r\n          // récupère la hauteur de cet élément\r\n          let elHeight = el.getBoundingClientRect().height;\r\n          // est-ce que l'élément est visible dans le viewport ?\r\n          let isVisible = !((elPos + elHeight) < screenTopPos || elPos > screenBottomPos)\r\n\r\n          if (isVisible)\r\n            el.classList.add(\"animated\")\r\n          else\r\n            el.classList.remove(\"animated\")\r\n\r\n        })\r\n\r\n      }\r\n\r\n      // relance la loop si il faut\r\n      if (this.shouldLoop)\r\n        requestAnimationFrame(loop)\r\n\r\n    }\r\n\r\n    // lance la loop\r\n    loop();\r\n\r\n  }\r\n\r\n  // lorqu'on quitte la page\r\n  componentWillUnmount() {\r\n    // arrête la loop\r\n    this.shouldLoop = false;\r\n  }\r\n\r\n\r\n}"],"sourceRoot":""}